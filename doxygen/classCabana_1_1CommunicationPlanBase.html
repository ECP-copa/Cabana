<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cabana: Cabana::CommunicationPlanBase&lt; MemorySpace &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Cabana<span id="projectnumber">&#160;0.8.0-dev</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classCabana_1_1CommunicationPlanBase.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classCabana_1_1CommunicationPlanBase-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Cabana::CommunicationPlanBase&lt; MemorySpace &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Communication plan base class.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Cabana__CommunicationPlanBase_8hpp_source.html">Cabana_CommunicationPlanBase.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Cabana::CommunicationPlanBase&lt; MemorySpace &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classCabana_1_1CommunicationPlanBase__inherit__graph.png" border="0" usemap="#aCabana_1_1CommunicationPlanBase_3_01MemorySpace_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="aCabana_1_1CommunicationPlanBase_3_01MemorySpace_01_4_inherit__map" id="aCabana_1_1CommunicationPlanBase_3_01MemorySpace_01_4_inherit__map">
<area shape="rect" title="Communication plan base class." alt="" coords="5,43,202,91"/>
<area shape="rect" href="classCabana_1_1CommunicationPlan_3_01MemorySpace_00_01Mpi_01_4.html" title="Communication plan class. Uses vanilla MPI as the communication backend." alt="" coords="250,43,446,91"/>
<area shape="poly" title=" " alt="" coords="217,64,249,64,249,70,217,70"/>
<area shape="rect" href="classCabana_1_1Distributor.html" title="A communication plan for migrating data from one uniquely&#45;owned decomposition to another uniquely own..." alt="" coords="494,5,739,54"/>
<area shape="poly" title=" " alt="" coords="461,49,493,44,494,49,462,54"/>
<area shape="rect" href="classCabana_1_1Halo.html" title="A communication plan for scattering and gathering of ghosted data." alt="" coords="512,79,721,127"/>
<area shape="poly" title=" " alt="" coords="462,80,512,86,511,92,461,85"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ade52a84c762977169dd1867f4c617348" id="r_ade52a84c762977169dd1867f4c617348"><td class="memItemLeft" align="right" valign="top"><a id="ade52a84c762977169dd1867f4c617348" name="ade52a84c762977169dd1867f4c617348"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>memory_space</b> = MemorySpace</td></tr>
<tr class="memdesc:ade52a84c762977169dd1867f4c617348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kokkos memory space. <br /></td></tr>
<tr class="separator:ade52a84c762977169dd1867f4c617348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add94f41de27ee9adae8f5c42c6ca8a68" id="r_add94f41de27ee9adae8f5c42c6ca8a68"><td class="memItemLeft" align="right" valign="top"><a id="add94f41de27ee9adae8f5c42c6ca8a68" name="add94f41de27ee9adae8f5c42c6ca8a68"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>execution_space</b> = typename memory_space::execution_space</td></tr>
<tr class="memdesc:add94f41de27ee9adae8f5c42c6ca8a68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default execution space. <br /></td></tr>
<tr class="separator:add94f41de27ee9adae8f5c42c6ca8a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c22c59cd9089040be500e6f62b3d09a" id="r_a9c22c59cd9089040be500e6f62b3d09a"><td class="memItemLeft" align="right" valign="top"><a id="a9c22c59cd9089040be500e6f62b3d09a" name="a9c22c59cd9089040be500e6f62b3d09a"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>size_type</b> = typename memory_space::memory_space::size_type</td></tr>
<tr class="memdesc:a9c22c59cd9089040be500e6f62b3d09a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size type. <br /></td></tr>
<tr class="separator:a9c22c59cd9089040be500e6f62b3d09a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aea909e312c4cf4da52ac21a0dab15228" id="r_aea909e312c4cf4da52ac21a0dab15228"><td class="memItemLeft" align="right" valign="top"><a id="aea909e312c4cf4da52ac21a0dab15228" name="aea909e312c4cf4da52ac21a0dab15228"></a>
MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><b>comm</b> () const</td></tr>
<tr class="memdesc:aea909e312c4cf4da52ac21a0dab15228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the MPI communicator. <br /></td></tr>
<tr class="separator:aea909e312c4cf4da52ac21a0dab15228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e35361587f6f78fe7066030c76824c4" id="r_a9e35361587f6f78fe7066030c76824c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e35361587f6f78fe7066030c76824c4">numNeighbor</a> () const</td></tr>
<tr class="memdesc:a9e35361587f6f78fe7066030c76824c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of neighbor ranks that this rank will communicate with.  <br /></td></tr>
<tr class="separator:a9e35361587f6f78fe7066030c76824c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f9317f80a6b3afc7ba4f1757fdf20cb" id="r_a4f9317f80a6b3afc7ba4f1757fdf20cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f9317f80a6b3afc7ba4f1757fdf20cb">neighborRank</a> (const int neighbor) const</td></tr>
<tr class="memdesc:a4f9317f80a6b3afc7ba4f1757fdf20cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a local neighbor id get its rank in the MPI communicator.  <br /></td></tr>
<tr class="separator:a4f9317f80a6b3afc7ba4f1757fdf20cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f742a9c68e3673625da6f8966fd38f" id="r_ad0f742a9c68e3673625da6f8966fd38f"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0f742a9c68e3673625da6f8966fd38f">numExport</a> (const int neighbor) const</td></tr>
<tr class="memdesc:ad0f742a9c68e3673625da6f8966fd38f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of elements this rank will export to a given neighbor.  <br /></td></tr>
<tr class="separator:ad0f742a9c68e3673625da6f8966fd38f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5485461fcead85a2c89c0698129bde32" id="r_a5485461fcead85a2c89c0698129bde32"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5485461fcead85a2c89c0698129bde32">totalNumExport</a> () const</td></tr>
<tr class="memdesc:a5485461fcead85a2c89c0698129bde32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total number of exports this rank will do.  <br /></td></tr>
<tr class="separator:a5485461fcead85a2c89c0698129bde32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a521cce72bacd30bf13dddbac2fa307e0" id="r_a521cce72bacd30bf13dddbac2fa307e0"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a521cce72bacd30bf13dddbac2fa307e0">numImport</a> (const int neighbor) const</td></tr>
<tr class="memdesc:a521cce72bacd30bf13dddbac2fa307e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of elements this rank will import from a given neighbor.  <br /></td></tr>
<tr class="separator:a521cce72bacd30bf13dddbac2fa307e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6624ba829579fb308f37854956050182" id="r_a6624ba829579fb308f37854956050182"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6624ba829579fb308f37854956050182">totalNumImport</a> () const</td></tr>
<tr class="memdesc:a6624ba829579fb308f37854956050182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total number of imports this rank will do.  <br /></td></tr>
<tr class="separator:a6624ba829579fb308f37854956050182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0948a98484500e0b72f1e304579fbd37" id="r_a0948a98484500e0b72f1e304579fbd37"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0948a98484500e0b72f1e304579fbd37">exportSize</a> () const</td></tr>
<tr class="memdesc:a0948a98484500e0b72f1e304579fbd37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of export elements.  <br /></td></tr>
<tr class="separator:a0948a98484500e0b72f1e304579fbd37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9963bdfea2f1cf34018b60defe01f4a" id="r_ad9963bdfea2f1cf34018b60defe01f4a"><td class="memItemLeft" align="right" valign="top">Kokkos::View&lt; std::size_t *, <a class="el" href="#ade52a84c762977169dd1867f4c617348">memory_space</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9963bdfea2f1cf34018b60defe01f4a">getExportSteering</a> () const</td></tr>
<tr class="memdesc:ad9963bdfea2f1cf34018b60defe01f4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the steering vector for the exports.  <br /></td></tr>
<tr class="separator:ad9963bdfea2f1cf34018b60defe01f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89654426c8566c2fc830c25fbf28fa59" id="r_a89654426c8566c2fc830c25fbf28fa59"><td class="memTemplParams" colspan="2">template&lt;class PackViewType, class RankViewType&gt; </td></tr>
<tr class="memitem:a89654426c8566c2fc830c25fbf28fa59"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a89654426c8566c2fc830c25fbf28fa59">createExportSteering</a> (const PackViewType &amp;neighbor_ids, const RankViewType &amp;element_export_ranks)</td></tr>
<tr class="memdesc:a89654426c8566c2fc830c25fbf28fa59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the export steering vector.  <br /></td></tr>
<tr class="separator:a89654426c8566c2fc830c25fbf28fa59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c00e198f37e2af1b4c8df5c0bd3138f" id="r_a7c00e198f37e2af1b4c8df5c0bd3138f"><td class="memTemplParams" colspan="2">template&lt;class PackViewType, class RankViewType, class IdViewType&gt; </td></tr>
<tr class="memitem:a7c00e198f37e2af1b4c8df5c0bd3138f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a7c00e198f37e2af1b4c8df5c0bd3138f">createExportSteering</a> (const PackViewType &amp;neighbor_ids, const RankViewType &amp;element_export_ranks, const IdViewType &amp;element_export_ids)</td></tr>
<tr class="memdesc:a7c00e198f37e2af1b4c8df5c0bd3138f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the export steering vector.  <br /></td></tr>
<tr class="separator:a7c00e198f37e2af1b4c8df5c0bd3138f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a41e15e96daa97a90915c8f29145ca0c4" id="r_a41e15e96daa97a90915c8f29145ca0c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41e15e96daa97a90915c8f29145ca0c4">CommunicationPlanBase</a> (MPI_Comm <a class="el" href="#aea909e312c4cf4da52ac21a0dab15228">comm</a>)</td></tr>
<tr class="memdesc:a41e15e96daa97a90915c8f29145ca0c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:a41e15e96daa97a90915c8f29145ca0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a72708578bc4d29acd5a8a8f359f4b9ce" id="r_a72708578bc4d29acd5a8a8f359f4b9ce"><td class="memItemLeft" align="right" valign="top"><a id="a72708578bc4d29acd5a8a8f359f4b9ce" name="a72708578bc4d29acd5a8a8f359f4b9ce"></a>
std::shared_ptr&lt; MPI_Comm &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_comm_ptr</b></td></tr>
<tr class="memdesc:a72708578bc4d29acd5a8a8f359f4b9ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared pointer to <a class="el" href="structCabana_1_1Mpi.html" title="Vanilla MPI backend tag - default.">Mpi</a> communicator. <br /></td></tr>
<tr class="separator:a72708578bc4d29acd5a8a8f359f4b9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca342fad7a374c5d066743fce037c6f1" id="r_aca342fad7a374c5d066743fce037c6f1"><td class="memItemLeft" align="right" valign="top"><a id="aca342fad7a374c5d066743fce037c6f1" name="aca342fad7a374c5d066743fce037c6f1"></a>
std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_neighbors</b></td></tr>
<tr class="memdesc:aca342fad7a374c5d066743fce037c6f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of <a class="el" href="structCabana_1_1Mpi.html" title="Vanilla MPI backend tag - default.">Mpi</a> neighbors. <br /></td></tr>
<tr class="separator:aca342fad7a374c5d066743fce037c6f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c740213abcd9b401c7dfa0111460f1" id="r_a15c740213abcd9b401c7dfa0111460f1"><td class="memItemLeft" align="right" valign="top"><a id="a15c740213abcd9b401c7dfa0111460f1" name="a15c740213abcd9b401c7dfa0111460f1"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><b>_total_num_export</b></td></tr>
<tr class="memdesc:a15c740213abcd9b401c7dfa0111460f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of elements exported. <br /></td></tr>
<tr class="separator:a15c740213abcd9b401c7dfa0111460f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e4ed8138ecfcd2be327365bf7999c7" id="r_a88e4ed8138ecfcd2be327365bf7999c7"><td class="memItemLeft" align="right" valign="top"><a id="a88e4ed8138ecfcd2be327365bf7999c7" name="a88e4ed8138ecfcd2be327365bf7999c7"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><b>_total_num_import</b></td></tr>
<tr class="memdesc:a88e4ed8138ecfcd2be327365bf7999c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of elements imported. <br /></td></tr>
<tr class="separator:a88e4ed8138ecfcd2be327365bf7999c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc2607e2e32a9d3f7290b8e1b112add" id="r_a1fc2607e2e32a9d3f7290b8e1b112add"><td class="memItemLeft" align="right" valign="top"><a id="a1fc2607e2e32a9d3f7290b8e1b112add" name="a1fc2607e2e32a9d3f7290b8e1b112add"></a>
std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_num_export</b></td></tr>
<tr class="memdesc:a1fc2607e2e32a9d3f7290b8e1b112add"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of elements exported to each neighbor. <br /></td></tr>
<tr class="separator:a1fc2607e2e32a9d3f7290b8e1b112add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad93a68db08d10e0872f51698e33f9d6" id="r_aad93a68db08d10e0872f51698e33f9d6"><td class="memItemLeft" align="right" valign="top"><a id="aad93a68db08d10e0872f51698e33f9d6" name="aad93a68db08d10e0872f51698e33f9d6"></a>
std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_num_import</b></td></tr>
<tr class="memdesc:aad93a68db08d10e0872f51698e33f9d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of elements imported from each neighbor. <br /></td></tr>
<tr class="separator:aad93a68db08d10e0872f51698e33f9d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6c10f8ccfc103eb69e6b7d2b0e3192" id="r_aac6c10f8ccfc103eb69e6b7d2b0e3192"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac6c10f8ccfc103eb69e6b7d2b0e3192">_num_export_element</a></td></tr>
<tr class="separator:aac6c10f8ccfc103eb69e6b7d2b0e3192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ebf3556128399fc94f87444a38a4930" id="r_a3ebf3556128399fc94f87444a38a4930"><td class="memItemLeft" align="right" valign="top"><a id="a3ebf3556128399fc94f87444a38a4930" name="a3ebf3556128399fc94f87444a38a4930"></a>
Kokkos::View&lt; std::size_t *, <a class="el" href="#ade52a84c762977169dd1867f4c617348">memory_space</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_export_steering</b></td></tr>
<tr class="memdesc:a3ebf3556128399fc94f87444a38a4930"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structCabana_1_1Export.html" title="Export-based tag - default.">Export</a> steering vector. <br /></td></tr>
<tr class="separator:a3ebf3556128399fc94f87444a38a4930"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class MemorySpace&gt;<br />
class Cabana::CommunicationPlanBase&lt; MemorySpace &gt;</div><p>Communication plan base class. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">DeviceType</td><td>Device type for which the data for this class will be allocated and where parallel execution will occur.</td></tr>
  </table>
  </dd>
</dl>
<p>The communication plan computes how to redistribute elements in a parallel data structure using MPI. Given a list of data elements on the local MPI rank and their destination ranks, the communication plan computes which rank each process is sending and receiving from and how many elements we will send and receive. In addition, it provides an export steering vector which describes how to pack the local data to be exported into contiguous send buffers for each destination rank (in the forward communication plan).</p>
<p>Some nomenclature:</p>
<p><a class="el" href="structCabana_1_1Export.html" title="Export-based tag - default.">Export</a> - elements we are sending in the forward communication plan.</p>
<p><a class="el" href="structCabana_1_1Import.html" title="Import-based tag.">Import</a> - elements we are receiving in the forward communication plan.</p>
<dl class="section note"><dt>Note</dt><dd>If a communication plan does self-sends (i.e. exports and imports data from its own ranks) then this data is first in the data structure. What this means is that neighbor 0 is the local rank and the data for that rank that is being exported will appear first in the steering vector. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a41e15e96daa97a90915c8f29145ca0c4" name="a41e15e96daa97a90915c8f29145ca0c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e15e96daa97a90915c8f29145ca0c4">&#9670;&#160;</a></span>CommunicationPlanBase()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::CommunicationPlanBase </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm</td>          <td class="paramname"><span class="paramname"><em>comm</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comm</td><td>The MPI communicator over which the distributor is defined. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a89654426c8566c2fc830c25fbf28fa59" name="a89654426c8566c2fc830c25fbf28fa59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89654426c8566c2fc830c25fbf28fa59">&#9670;&#160;</a></span>createExportSteering() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<div class="memtemplate">
template&lt;class PackViewType, class RankViewType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::createExportSteering </td>
          <td>(</td>
          <td class="paramtype">const PackViewType &amp;</td>          <td class="paramname"><span class="paramname"><em>neighbor_ids</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RankViewType &amp;</td>          <td class="paramname"><span class="paramname"><em>element_export_ranks</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create the export steering vector. </p>
<p>Creates an array describing which export element ids are moved to which location in the send buffer of the communication plan. Ordered such that if a rank sends to itself then those values come first.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">neighbor_ids</td><td>The id of each element in the neighbor send buffers.</td></tr>
    <tr><td class="paramname">element_export_ranks</td><td>The ranks to which we are exporting each element. We use this to build the steering vector. The input is expected to be a Kokkos view or <a class="el" href="namespaceCabana.html" title="Core: particle data structures and algorithms.">Cabana</a> slice in the same memory space as the communication plan. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7c00e198f37e2af1b4c8df5c0bd3138f" name="a7c00e198f37e2af1b4c8df5c0bd3138f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c00e198f37e2af1b4c8df5c0bd3138f">&#9670;&#160;</a></span>createExportSteering() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<div class="memtemplate">
template&lt;class PackViewType, class RankViewType, class IdViewType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::createExportSteering </td>
          <td>(</td>
          <td class="paramtype">const PackViewType &amp;</td>          <td class="paramname"><span class="paramname"><em>neighbor_ids</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RankViewType &amp;</td>          <td class="paramname"><span class="paramname"><em>element_export_ranks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const IdViewType &amp;</td>          <td class="paramname"><span class="paramname"><em>element_export_ids</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create the export steering vector. </p>
<p>Creates an array describing which export element ids are moved to which location in the contiguous send buffer of the communication plan. Ordered such that if a rank sends to itself then those values come first.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">neighbor_ids</td><td>The id of each element in the neighbor send buffers.</td></tr>
    <tr><td class="paramname">element_export_ranks</td><td>The ranks to which we are exporting each element. We use this to build the steering vector. The input is expected to be a Kokkos view or <a class="el" href="namespaceCabana.html" title="Core: particle data structures and algorithms.">Cabana</a> slice in the same memory space as the communication plan.</td></tr>
    <tr><td class="paramname">element_export_ids</td><td>The local ids of the elements to be exported. This corresponds with the export ranks vector and must be the same length if defined. The input is expected to be a Kokkos view or <a class="el" href="namespaceCabana.html" title="Core: particle data structures and algorithms.">Cabana</a> slice in the same memory space as the communication plan. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0948a98484500e0b72f1e304579fbd37" name="a0948a98484500e0b72f1e304579fbd37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0948a98484500e0b72f1e304579fbd37">&#9670;&#160;</a></span>exportSize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::exportSize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of export elements. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of export elements.</dd></dl>
<p>Whenever the communication plan is applied, this is the total number of elements expected to be input on the sending ranks (in the forward communication plan). This will be different than the number returned by <a class="el" href="#a5485461fcead85a2c89c0698129bde32" title="Get the total number of exports this rank will do.">totalNumExport()</a> if some of the export ranks used in the construction are -1 and therefore will not particpate in an export operation. </p>

</div>
</div>
<a id="ad9963bdfea2f1cf34018b60defe01f4a" name="ad9963bdfea2f1cf34018b60defe01f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9963bdfea2f1cf34018b60defe01f4a">&#9670;&#160;</a></span>getExportSteering()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Kokkos::View&lt; std::size_t *, <a class="el" href="#ade52a84c762977169dd1867f4c617348">memory_space</a> &gt; <a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::getExportSteering </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the steering vector for the exports. </p>
<dl class="section return"><dt>Returns</dt><dd>The steering vector for the exports.</dd></dl>
<p>The steering vector places exports in contiguous chunks by destination rank. The chunks are in consecutive order based on the local neighbor id (i.e. all elements going to neighbor with local id 0 first, then all elements going to neighbor with local id 1, etc.). </p>

</div>
</div>
<a id="a4f9317f80a6b3afc7ba4f1757fdf20cb" name="a4f9317f80a6b3afc7ba4f1757fdf20cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f9317f80a6b3afc7ba4f1757fdf20cb">&#9670;&#160;</a></span>neighborRank()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::neighborRank </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>neighbor</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a local neighbor id get its rank in the MPI communicator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">neighbor</td><td>The local id of the neighbor to get the rank for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The MPI rank of the neighbor with the given local id. </dd></dl>

</div>
</div>
<a id="ad0f742a9c68e3673625da6f8966fd38f" name="ad0f742a9c68e3673625da6f8966fd38f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0f742a9c68e3673625da6f8966fd38f">&#9670;&#160;</a></span>numExport()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::numExport </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>neighbor</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of elements this rank will export to a given neighbor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">neighbor</td><td>The local id of the neighbor to get the number of exports for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of elements this rank will export to the neighbor with the given local id. </dd></dl>

</div>
</div>
<a id="a521cce72bacd30bf13dddbac2fa307e0" name="a521cce72bacd30bf13dddbac2fa307e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a521cce72bacd30bf13dddbac2fa307e0">&#9670;&#160;</a></span>numImport()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::numImport </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>neighbor</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of elements this rank will import from a given neighbor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">neighbor</td><td>The local id of the neighbor to get the number of imports for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of elements this rank will import from the neighbor with the given local id. </dd></dl>

</div>
</div>
<a id="a9e35361587f6f78fe7066030c76824c4" name="a9e35361587f6f78fe7066030c76824c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e35361587f6f78fe7066030c76824c4">&#9670;&#160;</a></span>numNeighbor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::numNeighbor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of neighbor ranks that this rank will communicate with. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of MPI ranks that will exchange data with this rank. </dd></dl>

</div>
</div>
<a id="a5485461fcead85a2c89c0698129bde32" name="a5485461fcead85a2c89c0698129bde32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5485461fcead85a2c89c0698129bde32">&#9670;&#160;</a></span>totalNumExport()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::totalNumExport </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the total number of exports this rank will do. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of elements this rank will export to its neighbors. </dd></dl>

</div>
</div>
<a id="a6624ba829579fb308f37854956050182" name="a6624ba829579fb308f37854956050182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6624ba829579fb308f37854956050182">&#9670;&#160;</a></span>totalNumImport()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::totalNumImport </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the total number of imports this rank will do. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of elements this rank will import from its neighhbors. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aac6c10f8ccfc103eb69e6b7d2b0e3192" name="aac6c10f8ccfc103eb69e6b7d2b0e3192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6c10f8ccfc103eb69e6b7d2b0e3192">&#9670;&#160;</a></span>_num_export_element</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MemorySpace&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classCabana_1_1CommunicationPlanBase.html">Cabana::CommunicationPlanBase</a>&lt; MemorySpace &gt;::_num_export_element</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of elements exported. May be different from _total_num_export if some of the export ranks used in the construction are -1 and therefore will not particpate in an export operation. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>core/src/<a class="el" href="Cabana__CommunicationPlanBase_8hpp_source.html">Cabana_CommunicationPlanBase.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceCabana.html">Cabana</a></li><li class="navelem"><a class="el" href="classCabana_1_1CommunicationPlanBase.html">CommunicationPlanBase</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
